/*--------------------------------------------------------------
# Blockquotes Alt

1. Reset of various elements.
2. New Blockquote, mobile
3. New Blockquote, desktop
--------------------------------------------------------------*/

// Resets styles possibly applied by Bootstrap by default.
blockquote {
  border-left: none;
  font-weight: inherit;
  padding-left: 0;
  max-width: none;
}

// In an older version of this element, the quote glyph was applied as a
// CSS:before declaration. This prevents the accidental duplication of
// quotes in the new format to follow.

blockquote:before {
  display: none;
}

/*------------------------------------------------------------------
2. Blockquote, mobile
------------------------------------------------------------------- */
.uds-blockquote {

  display: grid;
  grid-template-columns: auto 1fr;
  gap: $uds-size-spacing-3;

  font-size: $uds-size-font-large;
  font-weight: 700;

  svg {
    grid-column: 1;
    fill: $uds-color-base-gray-7;
    width: $uds-size-spacing-5;
    height: auto;
  }

  blockquote {

    grid-column: 2;
    margin-top: 0;
    margin-bottom: 0;

    p:last-child {
      margin-bottom: 0;
    }

    p:last-of-type:after {
      content: "\201D";
    }
  }

  .citation {

    cite {
      display: block;
      font-size: $uds-size-font-medium;
      font-style: normal;

      &.name {
        font-weight: 700;
      }

      &.name:before {
        padding-right: 0.5em;
        content: "\2014";
      }

      &.description {
        font-weight: 400;
        padding-left: 1.5rem;
      }
    }
  }

  &.with-image {

    img {
      max-width: 40px;
      height: auto;
      background-repeat: no-repeat;
      background-position: 50%;
      border-radius: 50%;
      width: 180px;
      height: 180px;
    }

    blockquote p:first-of-type:before {
      content: "\201C";
    }

  }

  &.no-citation {
    blockquote {

      display: flex;
      flex-direction: column;
      justify-content: center;

      p:first-of-type:before {
        content: "\201C";
      }

      h3 {
        margin-bottom: 0;
      }

      h3+p {
        margin-top: $uds-size-spacing-3;
      }
    }
  }

  &.accent-gold {
    svg {
      fill: $uds-color-base-gold;
    }
  }

  &.accent-maroon {
    svg {
      fill: $uds-color-base-maroon;
    }
  }
}

/*------------------------------------------------------------------
3. Blockquote, mobile only
------------------------------------------------------------------- */

@include media-breakpoint-down(sm) {
  .uds-blockquote.no-cite.with-image {
    display: flex;
    flex-direction: column;
    align-items: center;

    blockquote,
    h3 {
      text-align: center;
    }

    img {
      max-width: 180px;
      height: auto;
      background-repeat: no-repeat;
      background-position: 50%;
      border-radius: 50%;
      width: 180px;
      height: 180px;
    }
  }
}

/*------------------------------------------------------------------
4. Blockquote, desktop
------------------------------------------------------------------- */
@include media-breakpoint-up(sm) {

  .uds-blockquote {

    &.no-cite {
      align-items: center;
    }

    &.with-image {
      gap: $uds-size-spacing-4;

      img {
        max-width: 180px;
        height: auto;
        background-repeat: no-repeat;
        background-position: 50%;
        border-radius: 50%;
        width: 180px;
        height: 180px;
      }
    }

    &.with-image.reversed {

      img {
        grid-column: 2;
      }

      blockquote {
        grid-column: 1;
        grid-row: 1;
      }
    }
  }

}

/*------------------------------------------------------------------
5. Alt Citation.
-  Produces a gold bar above the cite elements.
------------------------------------------------------------------- */
.alt-citation,
.uds-testimonial {

  .citation {

    &:before {
      content: '';
      display: block;
      background-color: $uds-color-base-gray-7;
      height: $uds-size-spacing-half;
      width: $uds-size-spacing-9;
      margin: $uds-size-spacing-2 0;
    }

    cite.name:before {
      content: none;
    }

    cite.description {
      font-weight: 400;
      padding-left: 0;
    }
  }

  &.accent-gold .citation:before {
    background-color: $uds-color-base-gold;
  }

  &.accent-maroon .citation:before {
    background-color: $uds-color-base-maroon;
  }
}

/*------------------------------------------------------------------
5. Testimonial
-  Vertically centered alignment of a standard blockquote.
------------------------------------------------------------------- */
.uds-blockquote.uds-testimonial {
  display: flex;
  flex-direction: column;
  align-items: center;

  blockquote {
    text-align: center;

    p:first-of-type:before {
      content: "\201C";
    }

    p:last-of-type:after {
      content: "\201D";
    }

    p:last-of-type {
      margin-bottom: 0;
    }
  }

  .citation:before {
    display: inline-flex
  }

  &.with-image img {
    max-width: 180px;
  }
}
